(function(){"use strict";/**
	 * Escape the capturing group by escaping special characters and meaning.
	 *
	 * @param  {String} group
	 * @return {String}
	 */function e(e){return e.replace(/([=!:$\/()])/g,"\\$1")}/**
	 * Attach the keys as a property of the regexp.
	 *
	 * @param  {RegExp} re
	 * @param  {Array}  keys
	 * @return {RegExp}
	 */function t(e,t,n){return e.keys=t,e.allTokens=n,e}/**
	 * Get the flags for a regexp from the options.
	 *
	 * @param  {Object} options
	 * @return {String}
	 */function n(e){return e.sensitive?"":"i"}/**
	 * Pull out keys from a regexp.
	 *
	 * @param  {RegExp} path
	 * @param  {Array}  keys
	 * @return {RegExp}
	 */function a(e,n,a){// Use a negative lookahead to match only capturing groups.
var r=e.source.match(/\((?!\?)/g);if(r)for(var o=0;o<r.length;o++)n.push({name:o,delimiter:null,optional:!1,repeat:!1});return t(e,n,a)}/**
	 * Transform an array into a regexp.
	 *
	 * @param  {Array}  path
	 * @param  {Array}  keys
	 * @param  {Object} options
	 * @return {RegExp}
	 */function r(e,a,r,o){for(var d=[],l=0;l<e.length;l++)d.push(s(e[l],a,r,o).source);var u=new RegExp("(?:"+d.join("|")+")",n(r));return t(u,a,o)}/**
	 * Replace the specific tags with regexp strings.
	 *
	 * @param  {String} path
	 * @param  {Array}  keys
	 * @return {String}
	 */function o(t,n,a){function r(e){0===i&&"/"!==e[0]&&(e="/"+e),a.push({string:e})}function o(o,d,l,u,m,h,c,f,p){if(d)return d;if(f)return"\\"+f;var g="+"===c||"*"===c,k="?"===c||"*"===c;p>i&&r(t.substring(i,p)),i=p+o.length;var y={name:u||s++,delimiter:l||"/",optional:k,repeat:g};return n.push(y),a.push(y),l=l?"\\"+l:"",m=e(m||h||"[^"+(l||"\\/")+"]+?"),g&&(m=m+"(?:"+l+m+")*"),k?"(?:"+l+"("+m+"))?":l+"("+m+")";// Basic parameter support.
}var s=0,i=0,d=t.replace(At,o);return i<t.length&&r(t.substring(i)),d}/**
	 * Normalize the given path string, returning a regular expression.
	 *
	 * An empty array can be passed in for the keys, which will hold the
	 * placeholder key descriptions. For example, using `/user/:id`, `keys` will
	 * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.
	 *
	 * @param  {(String|RegExp|Array)} path
	 * @param  {Array}                 [keys]
	 * @param  {Object}                [options]
	 * @return {RegExp}
	 */function s(e,s,i,d){if(s=s||[],d=d||[],Pt(s)?!i&&(i={}):(i=s,s=[]),e instanceof RegExp)return a(e,s,i);if(Pt(e))return r(e,s,i,d);var l=i.strict,u=!1!==i.end,m=o(e,s,d),h="/"===e.charAt(e.length-1);return l||(m=(h?m.slice(0,-2):m)+"(?:\\/(?=$))?"),m+=u?"$":l&&h?"":"(?=\\/|$)",t(new RegExp("^"+m,n(i)),s,d)}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function d(e){if(null===e||e===void 0)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function l(e){switch(e.arrayFormat){case"index":return function(t,n,a){return null===n?[m(t,e),"[",a,"]"].join(""):[m(t,e),"[",m(a,e),"]=",m(n,e)].join("")};case"bracket":return function(t,n){return null===n?m(t,e):[m(t,e),"[]=",m(n,e)].join("")};default:return function(t,n){return null===n?m(t,e):[m(t,e),"=",m(n,e)].join("")};}}function u(e){var t;switch(e.arrayFormat){case"index":return function(e,n,a){return t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?void(void 0===a[e]&&(a[e]={}),a[e][t[1]]=n):void(a[e]=n)};case"bracket":return function(e,n,a){return(t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),!t)?void(a[e]=n):void 0===a[e]?void(a[e]=[n]):void(a[e]=[].concat(a[e],n))};default:return function(e,t,n){return void 0===n[e]?void(n[e]=t):void(n[e]=[].concat(n[e],t))};}}function m(e,t){return t.encode?t.strict?Et(e):encodeURIComponent(e):e}function h(e){if(Array.isArray(e))return e.sort();return"object"==typeof e?h(Object.keys(e)).sort(function(e,t){return+e-+t}).map(function(t){return e[t]}):e}function c(e,t){e.location.replace(f(e.location.href)+"#"+t)}function f(e){var t=e.indexOf("#");return-1===t?e:e.substring(0,t)}function p(e,t){e.location.hash=t}function g(e,t){var n=k(e.location.hash);return t?decodeURI(n):n}function k(e){return e&&"#"===e[0]?e.substr(1):e}function y(){var e=document.createElement("a");return e.href="#x x",!/x x/.test(e.hash)}function b(e,t,n,a){x(e,P(t.get()),n,a)}function v(e){var t=e.split("?");return{path:t.shift(),queryString:Vt.parse(t.join(""))}}function x(e,t,n,a){var r=v(t);t=r.path;var o=r.queryString,s=A(n?_(e):e,t);if(s){var i=s.exec(t),d=w(s.keys,i),l=zt(o,d);s.fn(l)}else a(t,o)}function _(e){return e.slice().reverse()}function w(e,t){return e.reduce(function(e,n,a){return e[n.name]=t[a+1],e},{})}function C(e,t,n){if("function"!=typeof n)throw new Error("The router add function must be passed a callback function");var a=Nt(t);a.fn=n,e.push(a)}function W(e,t,n,a,r){var o=P(t.get());if(o&&("/"!==o||"/"===r)){var s=e.slice();b(s,t,n,a)}else t.go(r)}function P(e){var t=e.match(Bt);return t?t[1]:""}function N(e){return e&&e.go&&e.replace&&e.on}function A(e,t){for(var n=0;n<e.length;++n)if(t.match(e[n]))return e[n]}// This file to be replaced with an official implementation maintained by
// the page.js crew if and when that becomes an option
function I(e,t,n){var a=S(t,n);return 0===Object.keys(a).length?e:e+"?"+Ot(a)}function S(e,t){var n=t.reduce(function(e,t){return t.string||(e[t.name]=t),e},{});return Object.keys(e).filter(function(e){return!n[e]}).reduce(function(t,n){return t[n]=e[n],t},{})}function E(e){return e&&"object"==typeof e&&"default"in e?e["default"]:e}function T(){var e={};return function(t){return t?(e[t]||(e[t]=Rt(t).keys.map(function(e){return e.name})),e[t]):[]}}function j(e){var t=e.stateState,n=e.getPathParameters,a=e.stateName,r=e.fromParameters,o=e.toParameters,s=t.get(a),i=s.querystringParameters||[],d=n(s.route).concat(i);return Array.isArray(d)&&d.some(function(e){return r[e]!==o[e]})}function F(e){var t=e.parametersChanged,n=e.original,a=e.destination,r=Mt({start:Yt(n.name),end:Yt(a.name)});return r.map(function(e){var r=e.start,o=e.end;return{nameBefore:r,nameAfter:o,stateNameChanged:r!==o,stateParametersChanged:r===o&&t({stateName:r,fromParameters:n.parameters,toParameters:a.parameters})}})}function L(e,t){var n=Yt(t);return n.filter(function(t){return e[t]}).reduce(function(t,n){return Xt(t,e[n])},{})}function V(e,t){return{redirectTo:{name:e,params:t}}}// { [stateName]: resolveResult }
function z(e,t){var n=e.filter(ln("resolve")),a=n.map(sn("name")),r=Promise.all(n.map(function(e){return new Promise(function(n,a){var r=function(e,t){return e?a(e):n(t)};r.redirect=function(e,t){a(V(e,t))};var o=e.resolve(e.data,t,r);un(o)&&n(o)})}));return r.then(function(e){return Mt({stateName:a,resolveResult:e}).reduce(function(e,t){return e[t.stateName]=t.resolveResult,e},{})})}function D(e,t,n){// const coolPrototype = Object.assign(Object.create(Component.prototype), methods)
// return Component.call(coolPrototype, options)
return Object.assign(new e(t),n)}function U(e,t){return e.push(t),function(){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}function B(){}function H(e,t){for(var n in t)e[n]=t[n];return e}function O(e,t){e.appendChild(t)}function M(e,t,n){e.insertBefore(t,n)}function R(e){e.parentNode.removeChild(e)}function Q(e,t){for(var n=e.parentNode;n.firstChild!==e;)t.appendChild(n.firstChild)}function q(e,t){for(var n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function G(){return document.createDocumentFragment()}function K(e){return document.createElement(e)}function $(e){return document.createTextNode(e)}function Y(){return document.createComment("")}function J(e,t,n,a){e.addEventListener(t,n,a)}function X(e,t,n,a){e.removeEventListener(t,n,a)}function Z(e,t,n){null==n?e.removeAttribute(t):e.setAttribute(t,n)}function ee(e,t){e.data=""+t}function te(e,t,n){e.style.setProperty(t,n)}function ne(){return Object.create(null)}function ae(e,t){var n=e in this._handlers&&this._handlers[e].slice();if(n)for(var a,r=0;r<n.length;r+=1)if(a=n[r],!a.__calling)try{a.__calling=!0,a.call(this,t)}finally{a.__calling=!1}}function re(e){e._lock=!0,se(e._beforecreate),se(e._oncreate),se(e._aftercreate),e._lock=!1}function oe(e,t){e._handlers=ne(),e._slots=ne(),e._bind=t._bind,e._staged={},e.options=t,e.root=t.root||e,e.store=t.store||e.root.store,t.root||(e._beforecreate=[],e._oncreate=[],e._aftercreate=[])}function se(e){for(;e&&e.length;)e.shift()()}/* client/lib/component/ErrorPage.html generated by Svelte v2.16.1 */function ie(){var e=K("style");e.id="svelte-mutkp3-style",e.textContent=".try-again.svelte-mutkp3{padding-top:1rem;text-align:center}footer.svelte-mutkp3{display:flex;justify-content:space-between;align-items:center}@media(max-width: 600px){footer.svelte-mutkp3{flex-direction:column}footer.svelte-mutkp3>.svelte-mutkp3{flex-basis:1.8rem}}footer.svelte-mutkp3>.svelte-mutkp3{text-align:center;display:flex}.footer-left.svelte-mutkp3,.footer-right.svelte-mutkp3{flex-basis:100px}",O(document.head,e)}function de(e,t){var n,r,o,s,i,d,l,u,m,h,c,f,p=e._slotted.default,g=t.key&&le(e,t),k=t.key&&ue(e,t);return{c(){n=K("div"),r=K("header"),r.innerHTML=`<h2>Error</h2>`,o=$("\n\n\t"),s=K("main"),d=$("\n\t\t"),g&&g.c(),l=$("\n\n\t"),u=K("footer"),m=K("a"),h=$("Home"),f=$("\n\t\t"),k&&k.c(),m.href=c=t.asr.makePath("index"),m.className="footer-left svelte-mutkp3",u.className="svelte-mutkp3",n.className="container svelte-mutkp3"},m(e,t){M(e,n,t),O(n,r),O(n,o),O(n,s),p&&(O(s,p),O(s,i||(i=Y()))),O(s,d),g&&g.m(s,null),O(n,l),O(n,u),O(u,m),O(m,h),O(u,f),k&&k.m(u,null)},p(t,n){n.key?g?g.p(t,n):(g=le(e,n),g.c(),g.m(s,null)):g&&(g.d(1),g=null),t.asr&&c!==(c=n.asr.makePath("index"))&&(m.href=c),n.key?k?k.p(t,n):(k=ue(e,n),k.c(),k.m(u,null)):k&&(k.d(1),k=null)},d(e){e&&R(n),p&&Q(i,p),g&&g.d(),k&&k.d()}}}// (9:2) {#if key}
function le(e,t){var n,a,r,o,s,i,d,l;return{c(){n=K("div"),a=K("a"),r=$("Try Again"),s=$("\n\t\t\t\t\t\u2022\n\t\t\t\t\t"),i=K("a"),d=$("Edit Sheet"),a.href=o=t.asr.makePath("workbook",{key:t.key}),i.href=l="https://docs.google.com/spreadsheets/d/"+t.key,i.target="_blank",n.className="try-again svelte-mutkp3"},m(e,t){M(e,n,t),O(n,a),O(a,r),O(n,s),O(n,i),O(i,d)},p(e,t){(e.asr||e.key)&&o!==(o=t.asr.makePath("workbook",{key:t.key}))&&(a.href=o),e.key&&l!==(l="https://docs.google.com/spreadsheets/d/"+t.key)&&(i.href=l)},d(e){e&&R(n)}}}// (25:2) {#if key}
function ue(e,t){var n,r,o;return{c(){n=K("a"),r=$("Sheet Info"),n.href=o=t.asr.makePath("workbook.info",{key:t.key}),n.className="footer-right svelte-mutkp3"},m(e,t){M(e,n,t),O(n,r)},p(e,t){(e.asr||e.key)&&o!==(o=t.asr.makePath("workbook.info",{key:t.key}))&&(n.href=o)},d(e){e&&R(n)}}}function me(e){oe(this,e),this._state=H({},e.data),this._intro=!0,this._slotted=e.slots||{},document.getElementById("svelte-mutkp3-style")||ie(),this._fragment=de(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/error/Error.html generated by Svelte v2.16.1 */function he(e,t){var n,a={asr:t.asr,key:t.key},r=new me({root:e.root,store:e.store,slots:{default:G()},data:a});return{c(){n=$("We couldn't load that workbook!"),r._fragment.c()},m(e,t){O(r._slotted.default,n),r._mount(e,t)},p(e,t){var n={};e.asr&&(n.asr=t.asr),e.key&&(n.key=t.key),r._set(n)},d(e){r.destroy(e)}}}function ce(e){oe(this,e),this._state=H({},e.data),this._intro=!0,this._fragment=he(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),re(this))}function fe(){return{sheetUrl:``,mediatorCall:null,error:null,label:null}}function pe(){var e=K("style");e.id="svelte-jo33z3-style",e.textContent=".row.svelte-jo33z3{display:grid;width:100%;grid-gap:8px;grid-template-columns:1fr 0fr}.row.svelte-jo33z3 button.svelte-jo33z3{align-self:end}",O(document.head,e)}function ge(e,t){function n(e){return e.label?ye:ke}function a(t){e.onsubmit(t)}var r,o,s,i,d,l=n(t),u=l(e,t),m=t.error&&be(e,t);return{c(){r=K("form"),o=K("div"),u.c(),s=$("\n\t\t"),i=K("button"),i.textContent="Load sheet",d=$("\n\t"),m&&m.c(),i.type="submit",i.className="svelte-jo33z3",o.className="row svelte-jo33z3",J(r,"submit",a)},m(e,t){M(e,r,t),O(r,o),u.m(o,null),O(o,s),O(o,i),O(r,d),m&&m.m(r,null)},p(t,a){l===(l=n(a))&&u?u.p(t,a):(u.d(1),u=l(e,a),u.c(),u.m(o,s)),a.error?m?m.p(t,a):(m=be(e,a),m.c(),m.m(r,null)):m&&(m.d(1),m=null)},d(e){e&&R(r),u.d(),m&&m.d(),X(r,"submit",a)}}}// (12:2) {:else}
function ke(e,t){function n(){r=!0,e.set({sheetUrl:a.value}),r=!1}var a,r=!1;return{c(){a=K("input"),J(a,"input",n),Z(a,"aria-label","Google Sheets share url"),Z(a,"type","text"),a.placeholder="https://docs.google.com/spreadsheets/d/1C6EBjsS-FY6KPzKnHCVFEcpYy_Gh_bvAJWcma50Qwrw/edit?usp=sharing"},m(e,n){M(e,a,n),a.value=t.sheetUrl},p(e,t){!r&&e.sheetUrl&&(a.value=t.sheetUrl)},d(e){e&&R(a),X(a,"input",n)}}}// (3:2) {#if label}
function ye(e,t){function n(){i=!0,e.set({sheetUrl:s.value}),i=!1}var a,r,o,s,i=!1;return{c(){a=K("label"),r=$(t.label),o=$("\n\t\t\t"),s=K("input"),J(s,"input",n),Z(s,"type","text"),s.placeholder="https://docs.google.com/spreadsheets/d/1C6EBjsS-FY6KPzKnHCVFEcpYy_Gh_bvAJWcma50Qwrw/edit?usp=sharing"},m(e,n){M(e,a,n),O(a,r),O(a,o),O(a,s),s.value=t.sheetUrl},p(e,t){e.label&&ee(r,t.label),!i&&e.sheetUrl&&(s.value=t.sheetUrl)},d(e){e&&R(a),X(s,"input",n)}}}// (22:1) {#if error}
function be(e,t){var n,a,r;return{c(){n=K("div"),a=$("Error: "),r=$(t.error),n.className="error-color"},m(e,t){M(e,n,t),O(n,a),O(n,r)},p(e,t){e.error&&ee(r,t.error)},d(e){e&&R(n)}}}function ve(e){oe(this,e),this._state=H(fe(),e.data),this._intro=!0,document.getElementById("svelte-jo33z3-style")||pe(),this._fragment=ge(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/index/Index.html generated by Svelte v2.16.1 */function xe(){return{sheetUrl:``,exampleWorkbooks:pn}}function _e(){var e=K("style");e.id="svelte-1w2g72g-style",e.textContent="footer.svelte-1w2g72g{display:flex;justify-content:space-between;align-items:center}@media(max-width: 600px){footer.svelte-1w2g72g{flex-direction:column}footer.svelte-1w2g72g>.svelte-1w2g72g{flex-basis:1.8rem}}footer.svelte-1w2g72g>.svelte-1w2g72g{text-align:center;display:flex}.footer-center.svelte-1w2g72g{flex-grow:1;max-width:800px}.footer-left.svelte-1w2g72g,.footer-right.svelte-1w2g72g{flex-basis:64px}.patreon-message.svelte-1w2g72g{display:flex;align-items:center;text-align:left;font-size:.8rem}.patreon-message.svelte-1w2g72g>.svelte-1w2g72g{padding:0 4px}",O(document.head,e)}function we(e,t,n){const a=Object.create(e);return a.exampleWorkbook=t[n],a}function Ce(e,t,n){const a=Object.create(e);return a.seenWorkbook=t[n],a}function We(e,t){for(var n,r,o,s,d,l,u,m,h,c,f,p,g,k,y,b,v,x,_,w,C,W,P,N,A,I,S,E=t.seenWorkbooks.length&&Pe(e,t),T={mediatorCall:t.mediatorCall},j=new ve({root:e.root,store:e.store,data:T}),F=t.exampleWorkbooks,L=[],V=0;V<F.length;V+=1)L[V]=Ie(e,we(t,F,V));return{c(){n=K("div"),r=K("header"),r.innerHTML=`<h1 class="big">Memorize Text</h1>`,o=$("\n\n\t"),s=K("main"),E&&E.c(),d=$("\n\n\t\t"),l=K("h2"),l.textContent="Memorize a new deck",u=$("\n\n\t\t"),j._fragment.c(),m=$("\n\n\t\t"),h=K("h2"),h.textContent="What is this",c=$("\n\n\t\t"),f=K("p"),f.textContent="Memorize Text is an \"active recall\" flash card memorization tool.  There are many other similar tools, but they tend to focus on memorizing single facts.",p=$("\n\t\t"),g=K("p"),g.textContent="Memorize Text focuses on making it easier for you to memorize longer passages of text.  It is a tool for people who are memorizing poetry, or scripture, or a part in a play.",k=$("\n\t\t"),y=K("p"),y.textContent="It is designed to be very simple for you to build and maintain your own decks of cards to memorize.",b=$("\n\n\t\t"),v=K("h2"),v.textContent="Try an example deck",x=$("\n\n\t\t"),_=K("ul");for(var e=0;e<L.length;e+=1)L[e].c();w=$("\n\n\t\t"),C=K("p"),W=K("strong"),P=K("a"),N=$("Add your deck of flash cards to memorize!"),I=$("\n\n\n\t"),S=K("footer"),S.innerHTML=`<a href="https://github.com/TehShrike/memorize-text-app/" target="_blank" rel="external" class="footer-left svelte-1w2g72g">
						Github
					</a>
					<div class="footer-center svelte-1w2g72g"><div class="patreon-message svelte-1w2g72g"><img src="images/duff.svg" alt="Duff logo" style="width: 36px;" class="svelte-1w2g72g">
							<div class="svelte-1w2g72g">
								This is a Josh Duff site. To help it stick around and be maintained, <a href="https://www.patreon.com/TehShrike">support me on Patreon</a>.
							</div></div></div>
					<div class="footer-right svelte-1w2g72g"></div>`,P.href=A=t.asr.makePath("new-deck"),S.className="svelte-1w2g72g",n.className="container svelte-1w2g72g"},m(e,t){M(e,n,t),O(n,r),O(n,o),O(n,s),E&&E.m(s,null),O(s,d),O(s,l),O(s,u),j._mount(s,null),O(s,m),O(s,h),O(s,c),O(s,f),O(s,p),O(s,g),O(s,k),O(s,y),O(s,b),O(s,v),O(s,x),O(s,_);for(var a=0;a<L.length;a+=1)L[a].m(_,null);O(s,w),O(s,C),O(C,W),O(W,P),O(P,N),O(n,I),O(n,S)},p(t,n){n.seenWorkbooks.length?E?E.p(t,n):(E=Pe(e,n),E.c(),E.m(s,d)):E&&(E.d(1),E=null);var a={};if(t.mediatorCall&&(a.mediatorCall=n.mediatorCall),j._set(a),t.exampleWorkbooks||t.asr){F=n.exampleWorkbooks;for(var r=0;r<F.length;r+=1){const a=we(n,F,r);L[r]?L[r].p(t,a):(L[r]=Ie(e,a),L[r].c(),L[r].m(_,null))}for(;r<L.length;r+=1)L[r].d(1);L.length=F.length}t.asr&&A!==(A=n.asr.makePath("new-deck"))&&(P.href=A)},d(e){e&&R(n),E&&E.d(),j.destroy(),q(L,e)}}}// (8:2) {#if seenWorkbooks.length}
function Pe(e,t){for(var n,a,r,o=t.seenWorkbooks,s=[],d=0;d<o.length;d+=1)s[d]=Ne(e,Ce(t,o,d));return{c(){n=K("h2"),n.textContent="Review one of your decks",a=$("\n\n\t\t\t"),r=K("ul");for(var e=0;e<s.length;e+=1)s[e].c()},m(e,t){M(e,n,t),M(e,a,t),M(e,r,t);for(var o=0;o<s.length;o+=1)s[o].m(r,null)},p(t,n){if(t.asr||t.seenWorkbooks){o=n.seenWorkbooks;for(var a=0;a<o.length;a+=1){const i=Ce(n,o,a);s[a]?s[a].p(t,i):(s[a]=Ne(e,i),s[a].c(),s[a].m(r,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=o.length}},d(e){e&&(R(n),R(a),R(r)),q(s,e)}}}// (12:4) {#each seenWorkbooks as seenWorkbook}
function Ne(e,t){var n,a,r,o,s,i,d,l,u,m=t.seenWorkbook.name;return{c(){n=K("li"),a=K("a"),r=$(m),s=$("\n\t\t\t\t\t\t("),i=K("a"),d=$("more"),u=$(")"),a.href=o=t.asr.makePath("workbook",{key:t.seenWorkbook.key}),i.href=l=t.asr.makePath("workbook.info",{key:t.seenWorkbook.key}),te(i,"font-style","italic")},m(e,t){M(e,n,t),O(n,a),O(a,r),O(n,s),O(n,i),O(i,d),O(n,u)},p(e,t){e.seenWorkbooks&&m!==(m=t.seenWorkbook.name)&&ee(r,m),(e.asr||e.seenWorkbooks)&&o!==(o=t.asr.makePath("workbook",{key:t.seenWorkbook.key}))&&(a.href=o),(e.asr||e.seenWorkbooks)&&l!==(l=t.asr.makePath("workbook.info",{key:t.seenWorkbook.key}))&&(i.href=l)},d(e){e&&R(n)}}}// (48:5) {#if exampleWorkbook.moreInfoUrl}
function Ae(e,t){var n,r,o,s,i;return{c(){n=$("("),r=K("a"),o=$("more info"),i=$(")"),r.href=s=t.exampleWorkbook.moreInfoUrl,te(r,"font-style","italic"),r.target="_blank",r.rel="external"},m(e,t){M(e,n,t),M(e,r,t),O(r,o),M(e,i,t)},p(e,t){e.exampleWorkbooks&&s!==(s=t.exampleWorkbook.moreInfoUrl)&&(r.href=s)},d(e){e&&(R(n),R(r),R(i))}}}// (45:3) {#each exampleWorkbooks as exampleWorkbook}
function Ie(e,t){var n,r,o,s,i,d=t.exampleWorkbook.name,l=t.exampleWorkbook.moreInfoUrl&&Ae(e,t);return{c(){n=K("li"),r=K("a"),o=$(d),i=$("\n\t\t\t\t\t"),l&&l.c(),r.href=s=t.asr.makePath("workbook",{key:t.exampleWorkbook.key})},m(e,t){M(e,n,t),O(n,r),O(r,o),O(n,i),l&&l.m(n,null)},p(t,a){t.exampleWorkbooks&&d!==(d=a.exampleWorkbook.name)&&ee(o,d),(t.asr||t.exampleWorkbooks)&&s!==(s=a.asr.makePath("workbook",{key:a.exampleWorkbook.key}))&&(r.href=s),a.exampleWorkbook.moreInfoUrl?l?l.p(t,a):(l=Ae(e,a),l.c(),l.m(n,null)):l&&(l.d(1),l=null)},d(e){e&&R(n),l&&l.d()}}}function Se(e){oe(this,e),this._state=H(xe(),e.data),this._intro=!0,document.getElementById("svelte-1w2g72g-style")||_e(),this._fragment=We(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),re(this))}/* client/view/new-deck/NewDeck.html generated by Svelte v2.16.1 */function Ee(){var e=K("style");e.id="svelte-1mnakvj-style",e.textContent="img.svelte-1mnakvj{box-shadow:0px 0px 8px 1px var(--lightGray);margin-bottom:1rem}",O(document.head,e)}function Te(e,t){var n,a,r,o,s,i,d,l,u,m,h,c,f,p,g,k,y,b,v,x,_,w,C,W,P,N,A,I,S,E,T,j,F,L,V,z,D,U={mediatorCall:t.mediatorCall,label:"Paste the url into this field:"},B=new ve({root:e.root,store:e.store,data:U});return{c(){n=K("div"),a=K("main"),r=K("h1"),r.textContent="Add a new deck",o=$("\n\t\t"),s=K("p"),s.innerHTML=`
						Go to
						<a href="https://docs.google.com/spreadsheets/" target="_blank" rel="external">
							Google Sheets
						</a>
						and create a new "Blank" spreadsheet.
					`,i=$("\n\t\t"),d=K("p"),d.textContent="Type or paste in the prompts you want to memorize, one card per row in the spreadsheet.  The first column is the prompt, and the second column is the text that you are trying to memorize.",l=$("\n\t\t"),u=K("img"),m=$("\n\t\t"),h=K("p"),h.textContent="You must have one header row at the top of your sheet.",c=$("\n\t\t"),f=K("p"),f.textContent="You may have multiple sheets in your document to study them individually.",p=$("\n\t\t"),g=K("img"),k=$("\n\t\t"),y=K("p"),y.textContent="Click the \"File\" menu at the top left, and choose \"Publish to web...\".",b=$("\n\t\t"),v=K("p"),v.textContent="Click \"Publish\".",x=$("\n\t\t"),_=K("img"),w=$("\n\t\t"),C=K("p"),C.textContent="Don't try to use the link that they give you in the \"Publish\" window, it won't work.  It is very important that you share your spreadsheet first.",W=$("\n\t\t"),P=K("p"),P.textContent="Close the \"Publish to the Web\" dialog.",N=$("\n\t\t"),A=K("p"),A.textContent="Click the \"Share\" button at the top right.",I=$("\n\t\t"),S=K("p"),S.textContent="Click \"Get shareable link\".",E=$("\n\t\t"),T=K("img"),j=$("\n\t\t"),B._fragment.c(),F=$("\n\n\t"),L=K("footer"),V=K("a"),z=$("Home"),u.srcset="images/google-spreadsheet-columns-example.png 2x",u.alt="A screenshot of a Google spreadsheet with prompts and answers",u.className="svelte-1mnakvj",g.srcset="images/google-spreadsheet-multiple-sheets-example.png 2x",g.alt="A screenshot of a Google Sheets workbook with multiple sheets",g.className="svelte-1mnakvj",_.srcset="images/google-spreadsheet-publish-example.png 2x",_.alt="A screenshot of the Google Sheets \"Publish to the Web\" dialog.",_.className="svelte-1mnakvj",T.srcset="images/google-spreadsheet-share-dialog-example.png 2x",T.alt="A screenshot of the Google Sheets share dialog.",T.className="svelte-1mnakvj",V.href=D=t.asr.makePath("index"),n.className="container"},m(e,t){M(e,n,t),O(n,a),O(a,r),O(a,o),O(a,s),O(a,i),O(a,d),O(a,l),O(a,u),O(a,m),O(a,h),O(a,c),O(a,f),O(a,p),O(a,g),O(a,k),O(a,y),O(a,b),O(a,v),O(a,x),O(a,_),O(a,w),O(a,C),O(a,W),O(a,P),O(a,N),O(a,A),O(a,I),O(a,S),O(a,E),O(a,T),O(a,j),B._mount(a,null),O(n,F),O(n,L),O(L,V),O(V,z)},p(e,t){var n={};e.mediatorCall&&(n.mediatorCall=t.mediatorCall),B._set(n),e.asr&&D!==(D=t.asr.makePath("index"))&&(V.href=D)},d(e){e&&R(n),B.destroy()}}}function je(e){oe(this,e),this._state=H({},e.data),this._intro=!0,document.getElementById("svelte-1mnakvj-style")||Ee(),this._fragment=Te(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),re(this))}/* client/view/not-found/NotFound.html generated by Svelte v2.16.1 */function Fe(e,t){var n,r,o,s,i,d,l,u=t.route&&Le(e,t);return{c(){n=K("h1"),n.textContent="Page not found",r=$("\n"),u&&u.c(),o=$("\n"),s=K("p"),i=K("a"),d=$("Home"),i.href=l=t.asr.makePath("index")},m(e,t){M(e,n,t),M(e,r,t),u&&u.m(e,t),M(e,o,t),M(e,s,t),O(s,i),O(i,d)},p(t,n){n.route?u?u.p(t,n):(u=Le(e,n),u.c(),u.m(o.parentNode,o)):u&&(u.d(1),u=null),t.asr&&l!==(l=n.asr.makePath("index"))&&(i.href=l)},d(e){e&&(R(n),R(r)),u&&u.d(e),e&&(R(o),R(s))}}}// (2:0) {#if route}
function Le(e,t){var n,a,r,o;return{c(){n=K("div"),a=$("Can't match route:"),r=K("pre"),o=$(t.route)},m(e,t){M(e,n,t),O(n,a),O(n,r),O(r,o)},p(e,t){e.route&&ee(o,t.route)},d(e){e&&R(n)}}}function Ve(e){oe(this,e),this._state=H({},e.data),this._intro=!0,this._fragment=Fe(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/Workbook.html generated by Svelte v2.16.1 */function ze(){var e;return{c(){e=K("uiView")},m(t,n){M(t,e,n)},p:B,d(t){t&&R(e)}}}function De(e){oe(this,e),this._state=H({},e.data),this._intro=!0,this._fragment=ze(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/info/Info.html generated by Svelte v2.16.1 */function Ue(){return{forgotten:!1}}function Be(e,t){function n(e){return e.forgotten?Oe:He}var r,o,s,i,d,l,u,m,h,c,f,p,g=t.workbook.name,k=n(t),y=k(e,t);return{c(){r=K("div"),o=K("header"),s=K("h2"),i=$(g),d=$("\n\n    "),l=K("main"),y.c(),u=$("\n\n    "),m=K("footer"),h=K("div"),c=K("a"),f=$("Home"),c.href=p=t.asr.makePath("index"),h.className="footer-left",r.className="container"},m(e,t){M(e,r,t),O(r,o),O(o,s),O(s,i),O(r,d),O(r,l),y.m(l,null),O(r,u),O(r,m),O(m,h),O(h,c),O(c,f)},p(t,a){t.workbook&&g!==(g=a.workbook.name)&&ee(i,g),k===(k=n(a))&&y?y.p(t,a):(y.d(1),y=k(e,a),y.c(),y.m(l,null)),t.asr&&p!==(p=a.asr.makePath("index"))&&(c.href=p)},d(e){e&&R(r),y.d()}}}// (11:8) {:else}
function He(e,t){function n(){e.forgetAndPrepareForUndo(t.key)}var a,r,o,s,i=t.workbook.name;return{c(){a=K("button"),r=$("Remove \""),o=$(i),s=$("\" from the home page"),J(a,"click",n),te(a,"background-color","var(--red)")},m(e,t){M(e,a,t),O(a,r),O(a,o),O(a,s)},p(e,n){t=n,e.workbook&&i!==(i=t.workbook.name)&&ee(o,i)},d(e){e&&R(a),X(a,"click",n)}}}// (8:8) {#if forgotten}
function Oe(e,t){function n(){e.restoreWorkbook(t.key,t.workbook)}var a,r,o,s,i,d=t.workbook.name;return{c(){a=$(d),r=$(" has been deleted."),o=K("br"),s=$("\n            "),i=K("button"),i.textContent="Restore",J(i,"click",n)},m(e,t){M(e,a,t),M(e,r,t),M(e,o,t),M(e,s,t),M(e,i,t)},p(e,n){t=n,e.workbook&&d!==(d=t.workbook.name)&&ee(a,d)},d(e){e&&(R(a),R(r),R(o),R(s),R(i)),X(i,"click",n)}}}function Me(e){oe(this,e),this._state=H(Ue(),e.data),this._intro=!0,this._fragment=Be(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/select-sheet/SelectSheet.html generated by Svelte v2.16.1 */function Re(){var e=K("style");e.id="svelte-150k4tx-style",e.textContent=".center.svelte-150k4tx{text-align:center}",O(document.head,e)}function Qe(e,t,n){const a=Object.create(e);return a.sheet=t[n],a}function qe(e,t){function n(e){return 1===e.workbook.sheets.length?Ke:Ge}var a,r,o,s,i,d=t.workbook.name,l=n(t),u=l(e,t);return{c(){a=K("div"),r=K("div"),o=K("h1"),s=$(d),i=$("\n\n\t\t"),u.c(),o.className="center svelte-150k4tx",r.className="content",a.className="container"},m(e,t){M(e,a,t),O(a,r),O(r,o),O(o,s),O(r,i),u.m(r,null)},p(t,a){t.workbook&&d!==(d=a.workbook.name)&&ee(s,d),l===(l=n(a))&&u?u.p(t,a):(u.d(1),u=l(e,a),u.c(),u.m(r,null))},d(e){e&&R(a),u.d()}}}// (9:2) {:else}
function Ge(e,t){for(var n,a=t.workbook.sheets,r=[],o=0;o<a.length;o+=1)r[o]=$e(e,Qe(t,a,o));return{c(){n=K("ol");for(var e=0;e<r.length;e+=1)r[e].c()},m(e,t){M(e,n,t);for(var a=0;a<r.length;a+=1)r[a].m(n,null)},p(t,o){if(t.asr||t.workbook||t.key){a=o.workbook.sheets;for(var s=0;s<a.length;s+=1){const i=Qe(o,a,s);r[s]?r[s].p(t,i):(r[s]=$e(e,i),r[s].c(),r[s].m(n,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=a.length}},d(e){e&&R(n),q(r,e)}}}// (5:2) {#if workbook.sheets.length === 1}
function Ke(e,t){var n,a,r,o,s=t.workbook.sheets[0].name;return{c(){n=K("p"),a=$("Loading "),r=$(s),o=$("..."),n.className="center svelte-150k4tx"},m(e,t){M(e,n,t),O(n,a),O(n,r),O(n,o)},p(e,t){e.workbook&&s!==(s=t.workbook.sheets[0].name)&&ee(r,s)},d(e){e&&R(n)}}}// (11:4) {#each workbook.sheets as sheet}
function $e(e,t){var n,r,o,s,i,d,l,u=t.sheet.name;return{c(){n=K("li"),r=$(u),o=$(" -\n\t\t\t\t\t\t"),s=K("a"),i=$("memorize"),l=$("\n\t\t\t\t\t"),s.href=d=t.asr.makePath("workbook.sheet.memorize",{sheetId:t.sheet.id,key:t.key})},m(e,t){M(e,n,t),O(n,r),O(n,o),O(n,s),O(s,i),O(n,l)},p(e,t){e.workbook&&u!==(u=t.sheet.name)&&ee(r,u),(e.asr||e.workbook||e.key)&&d!==(d=t.asr.makePath("workbook.sheet.memorize",{sheetId:t.sheet.id,key:t.key}))&&(s.href=d)},d(e){e&&R(n)}}}function Ye(e){oe(this,e),this._state=H({},e.data),this._intro=!0,document.getElementById("svelte-150k4tx-style")||Re(),this._fragment=qe(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/sheet/Sheet.html generated by Svelte v2.16.1 */function Je(){var e;return{c(){e=K("uiView")},m(t,n){M(t,e,n)},p:B,d(t){t&&R(e)}}}function Xe(e){oe(this,e),this._state=H({},e.data),this._intro=!0,this._fragment=Je(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}/* client/view/workbook/sheet/error/Error.html generated by Svelte v2.16.1 */function Ze(e,t){var n,a={asr:t.asr,key:t.key},r=new me({root:e.root,store:e.store,slots:{default:G()},data:a});return{c(){n=$("We couldn't load any rows from this sheet!  Make sure it has rows, and there aren't any blank rows."),r._fragment.c()},m(e,t){O(r._slotted.default,n),r._mount(e,t)},p(e,t){var n={};e.asr&&(n.asr=t.asr),e.key&&(n.key=t.key),r._set(n)},d(e){r.destroy(e)}}}function et(e){oe(this,e),this._state=H({},e.data),this._intro=!0,this._fragment=Ze(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor),re(this))}function tt({currentQuestionPosition:e,sheet:t}){const n=t.rows[e];return n?{prompt:n[0].trim(),answer:n[1].trim()}:null}function nt({sheet:e}){return e.rows.length}function at({sheet:e,workbook:t}){return`Sheet1`===e.name?t.name:`${t.name} Â· ${e.name}`}function rt({currentCard:e}){return e.answer.split(/\s+/g)}function ot({answerWords:e}){return 20<=e.length}function st({chunkable:e,answerWords:t}){return e?An({words:t,chunkMin:2,chunkMax:14,chunkIdeal:3,chunkBarriers:In}):t.map((e,t)=>t)}function it({phraseChunks:e,visibleChunkIndex:t,hintWordCount:n}){return e[t]+n}function dt({answerIsFullyVisible:e,currentCard:t,answerWords:n,visibleWords:a}){return e?t.answer:n.slice(0,a).join(` `)}function lt({answerIsFullyVisible:e,answerWords:t,visibleWords:n}){return e?``:t.slice(n).join(` `)}function ut({answerIsFullyVisible:e,visibleWords:t,answerWords:n}){return!e&&t<n.length}function mt(){return{currentQuestionPosition:0,sheet:null,answerIsFullyVisible:!1,hintWordCount:0,visibleChunkIndex:0,isTouchscreen:Pn}}function ht(){var e=K("style");e.id="svelte-1rnb5lh-style",e.textContent="[data-hidden=true].svelte-1rnb5lh{visibility:hidden}.key-identifier.svelte-1rnb5lh{font-family:monospace}.faint.svelte-1rnb5lh{color:var(--lightBlack)}.box.svelte-1rnb5lh{padding:32px;margin:32px 8px;border-radius:5px;box-shadow:0 0 8px 4px var(--lightGray)}footer.svelte-1rnb5lh{display:flex;justify-content:space-between}button.svelte-1rnb5lh{margin:4px;width:13rem}[data-is-touchscreen=true] button.svelte-1rnb5lh{width:10rem}@media(max-width: 600px){footer.svelte-1rnb5lh{flex-direction:column}footer.svelte-1rnb5lh .svelte-1rnb5lh{flex-basis:1.8rem;justify-content:center}.footer-left.svelte-1rnb5lh{order:1}button.svelte-1rnb5lh{margin:4px}.box.svelte-1rnb5lh{padding:16px;margin:16px 8px}}footer.svelte-1rnb5lh .svelte-1rnb5lh{text-align:center}.footer-center.svelte-1rnb5lh{flex-grow:1}.footer-left.svelte-1rnb5lh,.footer-right.svelte-1rnb5lh{flex-basis:64px;display:flex;align-items:center}",O(document.head,e)}function ct(e,t){function n(t){e.keydown(t)}function r(e){return 0===e.sheet.rows.length?pt:ft}function o(){e.showLess()}function s(){e.showMore()}function i(e){return e.answerIsFullyVisible?bt:yt}function d(){e.advance()}function l(){e.hint()}var u,m,h,c,f,p,g,k,y,b,v,x,_,w,C,W,P,N,A,I,S,E,T,j,F,L,V,z,D,U,B,H,Q,q=t.currentQuestionPosition+1;window.addEventListener("keydown",n);var G=r(t),Y=G(e,t),Z=!t.isTouchscreen&&gt(),ne=!t.isTouchscreen&&kt(),ae=i(t),re=ae(e,t),oe=!t.isTouchscreen&&vt(),se=!t.isTouchscreen&&xt();return{c(){u=K("div"),m=K("main"),h=K("h1"),c=$(t.displayHeader),f=$("\n\n\t\t"),Y.c(),p=$("\n\n\t"),g=K("footer"),k=K("div"),y=K("a"),b=$("Home"),x=$("\n\t\t"),_=K("div"),w=K("button"),C=$("Show less "),Z&&Z.c(),P=$("\n\t\t\t"),N=K("button"),A=$("Show more "),ne&&ne.c(),I=$("\n\t\t\t"),S=K("br"),E=$("\n\t\t\t"),T=K("button"),re.c(),j=$(" "),oe&&oe.c(),F=$("\n\t\t\t"),L=K("button"),V=$("Hint "),se&&se.c(),D=$("\n\t\t"),U=K("div"),B=$(q),H=$(" / "),Q=$(t.cardsInSheet),te(h,"text-align","center"),y.href=v=t.asr.makePath("index"),y.className="svelte-1rnb5lh",k.className="footer-left svelte-1rnb5lh",J(w,"click",o),w.disabled=W=0===t.visibleWords,w.className="svelte-1rnb5lh",J(N,"click",s),N.disabled=t.answerIsFullyVisible,N.className="svelte-1rnb5lh",S.className="svelte-1rnb5lh",J(T,"click",d),T.className="svelte-1rnb5lh",J(L,"click",l),L.disabled=z=t.answerIsFullyVisible||!t.chunkable,L.className="svelte-1rnb5lh",_.className="faint footer-center svelte-1rnb5lh",U.className="faint footer-right nowrap svelte-1rnb5lh",g.className="svelte-1rnb5lh",u.className="container"},m(e,t){M(e,u,t),O(u,m),O(m,h),O(h,c),O(m,f),Y.m(m,null),O(u,p),O(u,g),O(g,k),O(k,y),O(y,b),O(g,x),O(g,_),O(_,w),O(w,C),Z&&Z.m(w,null),O(_,P),O(_,N),O(N,A),ne&&ne.m(N,null),O(_,I),O(_,S),O(_,E),O(_,T),re.m(T,null),O(T,j),oe&&oe.m(T,null),O(_,F),O(_,L),O(L,V),se&&se.m(L,null),O(g,D),O(g,U),O(U,B),O(U,H),O(U,Q)},p(t,n){t.displayHeader&&ee(c,n.displayHeader),G===(G=r(n))&&Y?Y.p(t,n):(Y.d(1),Y=G(e,n),Y.c(),Y.m(m,null)),t.asr&&v!==(v=n.asr.makePath("index"))&&(y.href=v),n.isTouchscreen?Z&&(Z.d(1),Z=null):!Z&&(Z=gt(),Z.c(),Z.m(w,null)),t.visibleWords&&W!==(W=0===n.visibleWords)&&(w.disabled=W),n.isTouchscreen?ne&&(ne.d(1),ne=null):!ne&&(ne=kt(),ne.c(),ne.m(N,null)),t.answerIsFullyVisible&&(N.disabled=n.answerIsFullyVisible),ae!==(ae=i(n))&&(re.d(1),re=ae(e,n),re.c(),re.m(T,j)),n.isTouchscreen?oe&&(oe.d(1),oe=null):!oe&&(oe=vt(),oe.c(),oe.m(T,null)),n.isTouchscreen?se&&(se.d(1),se=null):!se&&(se=xt(),se.c(),se.m(L,null)),(t.answerIsFullyVisible||t.chunkable)&&z!==(z=n.answerIsFullyVisible||!n.chunkable)&&(L.disabled=z),t.currentQuestionPosition&&q!==(q=n.currentQuestionPosition+1)&&ee(B,q),t.cardsInSheet&&ee(Q,n.cardsInSheet)},d(e){window.removeEventListener("keydown",n),e&&R(u),Y.d(),Z&&Z.d(),X(w,"click",o),ne&&ne.d(),X(N,"click",s),re.d(),oe&&oe.d(),X(T,"click",d),se&&se.d(),X(L,"click",l)}}}// (11:2) {:else}
function ft(e,t){var n,a,r,o,s,i,d,l,u,m,h,c,f,p=t.currentCard.prompt;return{c(){n=K("div"),a=K("strong"),r=$(p),o=$("\n\n\t\t\t"),s=K("div"),i=$(t.visibleAnswer),d=$("\n\n\t\t\t\t"),l=K("span"),u=$("\u2026"),h=$("\n\n\t\t\t\t"),c=K("span"),f=$(t.hiddenAnswer),n.className="box svelte-1rnb5lh",l.dataset.hidden=m=0===t.visibleWords||!t.wordsAreLeftToDisplay,te(l,"color","var(--gray)"),l.className="svelte-1rnb5lh",te(c,"visibility","hidden"),s.className="box svelte-1rnb5lh"},m(e,t){M(e,n,t),O(n,a),O(a,r),M(e,o,t),M(e,s,t),O(s,i),O(s,d),O(s,l),O(l,u),O(s,h),O(s,c),O(c,f)},p(e,t){e.currentCard&&p!==(p=t.currentCard.prompt)&&ee(r,p),e.visibleAnswer&&ee(i,t.visibleAnswer),(e.visibleWords||e.wordsAreLeftToDisplay)&&m!==(m=0===t.visibleWords||!t.wordsAreLeftToDisplay)&&(l.dataset.hidden=m),e.hiddenAnswer&&ee(f,t.hiddenAnswer)},d(e){e&&(R(n),R(o),R(s))}}}// (7:2) {#if sheet.rows.length === 0}
function pt(){var e;return{c(){e=K("h2"),e.textContent="This sheet doesn't have any rows!"},m(t,n){M(t,e,n)},p:B,d(t){t&&R(e)}}}// (39:14) {#if !isTouchscreen}
function gt(){var e,t,n;return{c(){e=$("["),t=K("span"),t.textContent=",",n=$("]"),t.className="key-identifier svelte-1rnb5lh"},m(a,r){M(a,e,r),M(a,t,r),M(a,n,r)},d(a){a&&(R(e),R(t),R(n))}}}// (42:14) {#if !isTouchscreen}
function kt(){var e,t,n;return{c(){e=$("["),t=K("span"),t.textContent=".",n=$("]"),t.className="key-identifier svelte-1rnb5lh"},m(a,r){M(a,e,r),M(a,t,r),M(a,n,r)},d(a){a&&(R(e),R(t),R(n))}}}// (48:4) {:else}
function yt(){var e;return{c(){e=$("Show all")},m(t,n){M(t,e,n)},d(t){t&&R(e)}}}// (46:4) {#if answerIsFullyVisible}
function bt(){var e;return{c(){e=$("Next card")},m(t,n){M(t,e,n)},d(t){t&&R(e)}}}// (50:10) {#if !isTouchscreen}
function vt(){var e,t,n;return{c(){e=$("["),t=K("span"),t.textContent="Spacebar",n=$("]"),t.className="key-identifier svelte-1rnb5lh"},m(a,r){M(a,e,r),M(a,t,r),M(a,n,r)},d(a){a&&(R(e),R(t),R(n))}}}// (53:9) {#if !isTouchscreen}
function xt(){var e,t,n;return{c(){e=$("["),t=K("span"),t.textContent="h",n=$("]"),t.className="key-identifier svelte-1rnb5lh"},m(a,r){M(a,e,r),M(a,t,r),M(a,n,r)},d(a){a&&(R(e),R(t),R(n))}}}function _t(e){oe(this,e),this._state=H(mt(),e.data),this._recompute({currentQuestionPosition:1,sheet:1,workbook:1,currentCard:1,answerWords:1,chunkable:1,phraseChunks:1,visibleChunkIndex:1,hintWordCount:1,answerIsFullyVisible:1,visibleWords:1},this._state),this._intro=!0,document.getElementById("svelte-1rnb5lh-style")||ht(),this._fragment=ct(this,this._state),e.target&&(this._fragment.c(),this._mount(e.target,e.anchor))}function wt(e){const t=e;return new Promise((n,a)=>{const r=window.indexedDB.open(e,Tn);r.onupgradeneeded=()=>r.result.createObjectStore(t),r.onblocked=()=>a(new Error(`onblocked`)),r.onerror=()=>a(r.error),r.onsuccess=()=>{const e=r.result;n((n,a)=>Ct({db:e,storeName:t,transactionType:n,fn:a}))}})}function Ct({db:e,storeName:t,transactionType:n,fn:a}){return new Promise((r,o)=>{const s=e.transaction(t,n),i=s.objectStore(t),d=a(i),l=Array.isArray(d)?Promise.all(d.map(Wt)):Wt(d);s.onerror=()=>o(s.error),s.oncomplete=()=>r(l)})}function Wt(e){const t=En();return e.onerror=n=>{`function`==typeof n.preventDefault&&n.preventDefault(),t.reject(e.error)},e.onsuccess=()=>t.resolve(e.result),t.promise}var Pt=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},Nt=s,At=new RegExp("(\\\\.)|([\\/.])?(?:\\:(\\w+)(?:\\(((?:\\\\.|[^)])*)\\))?|\\(((?:\\\\.|[^)])*)\\))([+*?])?|([.+*?=^!:${}()[\\]|\\/])","g"),It="undefined"==typeof globalThis?"undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window:globalThis,St=i(function(e){/**
	 * Constructor to create a storage for our `EE` objects.
	 * An `Events` instance is a plain object whose properties are event names.
	 *
	 * @constructor
	 * @api private
	 */function t(){}//
// We try to not inherit from `Object.prototype`. In some engines creating an
// instance in this way is faster than calling `Object.create(null)` directly.
// If `Object.create(null)` is not supported we prefix the event names with a
// character to make sure that the built-in object properties are not
// overridden or used as an attack vector.
//
/**
	 * Representation of a single event listener.
	 *
	 * @param {Function} fn The listener function.
	 * @param {Mixed} context The context to invoke the listener with.
	 * @param {Boolean} [once=false] Specify if the listener is a one-time listener.
	 * @constructor
	 * @api private
	 */function n(e,t,n){this.fn=e,this.context=t,this.once=n||!1}/**
	 * Minimal `EventEmitter` interface that is molded against the Node.js
	 * `EventEmitter` interface.
	 *
	 * @constructor
	 * @api public
	 */function a(){this._events=new t,this._eventsCount=0}/**
	 * Return an array listing the events for which the emitter has registered
	 * listeners.
	 *
	 * @returns {Array}
	 * @api public
	 */var r=Object.prototype.hasOwnProperty,o="~";/**
	 * Return the listeners registered for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Boolean} exists Only check if there are listeners.
	 * @returns {Array|Boolean}
	 * @api public
	 */ /**
	 * Calls each of the listeners registered for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @returns {Boolean} `true` if the event had listeners, else `false`.
	 * @api public
	 */ /**
	 * Add a listener for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Function} fn The listener function.
	 * @param {Mixed} [context=this] The context to invoke the listener with.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ /**
	 * Add a one-time listener for a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Function} fn The listener function.
	 * @param {Mixed} [context=this] The context to invoke the listener with.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ /**
	 * Remove the listeners of a given event.
	 *
	 * @param {String|Symbol} event The event name.
	 * @param {Function} fn Only remove the listeners that match this function.
	 * @param {Mixed} context Only remove the listeners that have this context.
	 * @param {Boolean} once Only remove one-time listeners.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ /**
	 * Remove all listeners, or those of the specified event.
	 *
	 * @param {String|Symbol} [event] The event name.
	 * @returns {EventEmitter} `this`.
	 * @api public
	 */ //
// Alias methods names because people roll like that.
//
//
// This function doesn't apply anymore.
//
//
// Expose the prefix.
//
//
// Allow `EventEmitter` to be imported as module namespace.
//
Object.create&&(t.prototype=Object.create(null),!new t().__proto__&&(o=!1)),a.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e,t){var n=o?o+e:e,a=this._events[n];if(t)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var r=0,s=a.length,d=Array(s);r<s;r++)d[r]=a[r].fn;return d},a.prototype.emit=function(e,t,n,a,r,s){var d=o?o+e:e;if(!this._events[d])return!1;var l,u,m=this._events[d],h=arguments.length;if(m.fn){switch(m.once&&this.removeListener(e,m.fn,void 0,!0),h){case 1:return m.fn.call(m.context),!0;case 2:return m.fn.call(m.context,t),!0;case 3:return m.fn.call(m.context,t,n),!0;case 4:return m.fn.call(m.context,t,n,a),!0;case 5:return m.fn.call(m.context,t,n,a,r),!0;case 6:return m.fn.call(m.context,t,n,a,r,s),!0;}for(u=1,l=Array(h-1);u<h;u++)l[u-1]=arguments[u];m.fn.apply(m.context,l)}else{var c,f=m.length;for(u=0;u<f;u++)switch(m[u].once&&this.removeListener(e,m[u].fn,void 0,!0),h){case 1:m[u].fn.call(m[u].context);break;case 2:m[u].fn.call(m[u].context,t);break;case 3:m[u].fn.call(m[u].context,t,n);break;case 4:m[u].fn.call(m[u].context,t,n,a);break;default:if(!l)for(c=1,l=Array(h-1);c<h;c++)l[c-1]=arguments[c];m[u].fn.apply(m[u].context,l);}}return!0},a.prototype.on=function(e,t,a){var r=new n(t,a||this),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},a.prototype.once=function(e,t,a){var r=new n(t,a||this,!0),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},a.prototype.removeListener=function(e,n,a,r){var s=o?o+e:e;if(!this._events[s])return this;if(!n)return 0==--this._eventsCount?this._events=new t:delete this._events[s],this;var d=this._events[s];if(d.fn)d.fn!==n||r&&!d.once||a&&d.context!==a||(0==--this._eventsCount?this._events=new t:delete this._events[s]);else{for(var l=0,u=[],m=d.length;l<m;l++)(d[l].fn!==n||r&&!d[l].once||a&&d[l].context!==a)&&u.push(d[l]);//
// Reset the array, or remove it completely if we have no more listeners.
//
u.length?this._events[s]=1===u.length?u[0]:u:0==--this._eventsCount?this._events=new t:delete this._events[s]}return this},a.prototype.removeAllListeners=function(e){var n;return e?(n=o?o+e:e,this._events[n]&&(0==--this._eventsCount?this._events=new t:delete this._events[n])):(this._events=new t,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prototype.setMaxListeners=function(){return this},a.prefixed=o,a.EventEmitter=a,e.exports=a}),Et=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})},Tt=Object.getOwnPropertySymbols,jt=Object.prototype.hasOwnProperty,Ft=Object.prototype.propertyIsEnumerable,Lt=function(){var e=String.fromCharCode;try{if(!Object.assign)return!1;// Detect buggy property enumeration order in older V8 versions.
// https://bugs.chromium.org/p/v8/issues/detail?id=4118
var t=new String("abc");// eslint-disable-line no-new-wrappers
if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;// https://bugs.chromium.org/p/v8/issues/detail?id=3056
for(var a={},r=0;10>r;r++)a["_"+e(r)]=r;var n=Object.getOwnPropertyNames(a).map(function(e){return a[e]});if("0123456789"!==n.join(""))return!1;// https://bugs.chromium.org/p/v8/issues/detail?id=3056
var o={};return["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t"].forEach(function(e){o[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){// We don't expect any of the above to throw, but better to be safe.
return!1}}()?Object.assign:function(e){for(var t,n,a=d(e),r=1;r<arguments.length;r++){for(var o in t=Object(arguments[r]),t)jt.call(t,o)&&(a[o]=t[o]);if(Tt){n=Tt(t);for(var l=0;l<n.length;l++)Ft.call(t,n[l])&&(a[n[l]]=t[n[l]])}}return a},Vt={extract:function(e){return e.split("?")[1]||""},parse:function(e,t){t=Lt({arrayFormat:"none"},t);var n=u(t),a=Object.create(null);// Create an object with no prototype
// https://github.com/sindresorhus/query-string/issues/47
return"string"==typeof e?(e=e.trim().replace(/^(\?|#|&)/,""),!e)?a:(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),r=t.shift(),o=0<t.length?t.join("="):void 0;// Firefox (pre 40) decodes `%3D` to `=`
// https://github.com/sindresorhus/query-string/pull/37
o=void 0===o?null:decodeURIComponent(o),n(decodeURIComponent(r),o,a)}),Object.keys(a).sort().reduce(function(e,t){var n=a[t];return e[t]=!n||"object"!=typeof n||Array.isArray(n)?n:h(n),e},Object.create(null))):a},stringify:function(e,t){t=Lt({encode:!0,strict:!0,arrayFormat:"none"},t);var n=l(t);return e?Object.keys(e).sort().map(function(a){var r=e[a];if(r===void 0)return"";if(null===r)return m(a,t);if(Array.isArray(r)){var o=[];return r.slice().forEach(function(e){void 0===e||o.push(n(a,e,o.length))}),o.join("&")}return m(a,t)+"="+m(r,t)}).filter(function(e){return 0<e.length}).join("&"):""}},zt=function(){for(var e,t={},n=0;n<arguments.length;n++)for(var a in e=arguments[n],e)Dt.call(e,a)&&(t[a]=e[a]);return t},Dt=Object.prototype.hasOwnProperty,Ut=function(e){function t(t){return function(n){n!==a&&t(e,n)}}var n=new St,a="",r=y();return e.addEventListener("hashchange",function(){a!==n.get()&&(a=n.get(),n.emit("hashchange"))}),n.go=t(p),n.replace=t(c),n.get=g.bind(null,e,r),n},Bt=/^([^#]*)(:?#.*)?$/,Ht=function(e){var t=Nt(e);// The only reason I'm returning a new object instead of the results of the pathToRegexp
// function is so that if the official implementation ends up returning an
// allTokens-style array via some other mechanism, I may be able to change this file
// without having to change the rest of the module in index.js
return{regex:t,allTokens:t.allTokens}},Ot=Vt.stringify,Mt=E(function(e){function t(t){var a={};return n.forEach(function(n){a[n]=e[n][t]}),a}var n=Object.keys(e);n.forEach(function(t){if(!Array.isArray(e[t]))throw new Error(t+" is not an array")});for(var a=n.reduce(function(t,n){var a=e[n].length;return t>a?t:a},0),r=[],o=0;o<a;++o)r.push(t(o));return r}),Rt=E(Nt),Qt=E(function(e){return function(){var t=this,n=Array.prototype.slice.call(arguments);return new Promise(function(a,r){n.push(function(e,t){e?r(e):a(t)});var o=e.apply(t,n),s=o&&("object"==typeof o||"function"==typeof o)&&"function"==typeof o.then;s&&a(o)})}}),qt=E(St),Gt=E(function(e,t){function n(e,t){r.emit("not found",e,t)}function a(){t.removeListener("hashchange",s)}var r=new St;N(e)&&(t=e,e=null),e=e||{},t||(t=Ut(window));var o=[],s=b.bind(null,o,t,!!e.reverse,n);return t.on("hashchange",s),r.add=C.bind(null,o),r.stop=a,r.evaluateCurrent=W.bind(null,o,t,!!e.reverse,n),r.replace=t.replace,r.go=t.go,r.location=t,r}),Kt=E(function(e,t){var n="string"==typeof e?Ht(e):e,a=n.allTokens,r=n.regex;if(t){var o=a.map(function(n){if(n.string)return n.string;var a="undefined"!=typeof t[n.name];if(!n.optional&&!a)throw new Error("Must supply argument "+n.name+" for path "+e);return a?n.delimiter+encodeURIComponent(t[n.name]):""}).join("");if(!r.test(o))throw new Error("Provided arguments do not match the original arguments");return I(o,t,a)}return n}),$t=E(function(e){"function"==typeof setImmediate?setImmediate(e):setTimeout(e,0)}),Yt=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){e.exports=function(e){return e.split(".").reduce(function(e,t){return e.push(e.length?e[e.length-1]+"."+t:t),e},[])}}),Jt=function(){function e(e){var t=Yt(e);return t.map(function(e){if(!a[e])throw new Error("State "+e+" not found");return a[e]})}function t(e){var t=Yt(e);if(1<t.length){var n=t.length-2;return t[n]}return null}function n(e){var t=a[e],r=t&&("function"==typeof t.defaultChild?t.defaultChild():t.defaultChild);if(!r)return e;return n(e+"."+r)}var a={};return{add:function(e,t){a[e]=t},get:function(e){return e&&a[e]},getHierarchy:e,getParent:function(e){var n=t(e);return n&&a[n]},getParentName:t,guaranteeAllStatesExist:function(e){var t=Yt(e),n=t.filter(function(e){return!a[e]});if(0<n.length)throw new Error("State "+n[n.length-1]+" does not exist")},buildFullStateRoute:function(t){return e(t).map(function(e){return"/"+(e.route||"")}).join("").replace(/\/{2,}/g,"/")},applyDefaultChildStates:n}},Xt=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object.assign.apply(Object,[{}].concat(t))},Zt=function(e){var t=T(),n=function(n){return j(Xt(n,{stateState:e,getPathParameters:t}))};return function(e){return F(Xt(e,{parametersChanged:n}))}},en=function(){var e={name:"",parameters:{}};return{get:function(){return e},set:function(t,n){e={name:t,parameters:n}}}},tn=function(e){var t=!1,n=!1,a={destroy:[],change:[],create:[]};return e.forEach(function(e){t=t||e.stateParametersChanged,n=n||e.stateNameChanged,e.nameBefore&&(n?a.destroy.push(e.nameBefore):t&&a.change.push(e.nameBefore)),e.nameAfter&&n&&a.create.push(e.nameAfter)}),a},nn=function(e){function t(){o=null,s&&n()}function n(){o=s,s=null,o.beginStateChange()}function a(){o.transition.cancelled=!0;var t=new Error("State transition cancelled by the state transition manager");t.wasCancelledBySomeoneElse=!0,e.emit("stateChangeCancelled",t)}function r(e){var t={cancelled:!1,cancellable:!0};return{transition:t,beginStateChange:function(){for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return e.apply(void 0,[t].concat(a))}}}var o=null,s=null,i=function(){return!!o};e.on("stateChangeAttempt",function(e){s=r(e),i()&&o.transition.cancellable?a():!i()&&n()}),e.on("stateChangeError",t),e.on("stateChangeCancelled",t),e.on("stateChangeEnd",t)},an={reverse:!1},rn=function(e,t){var n=Promise.resolve();return Promise.all(e.map(function(a,r){return n=n.then(function(){return t(a,r,e)})}))},on="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sn=function(e){return function(t){return t[e]}},dn=function(e){return e.slice().reverse()},ln=function(e){return function(t){return"function"==typeof t[e]}},un=function(e){return e&&("object"===("undefined"==typeof e?"undefined":on(e))||"function"==typeof e)&&"function"==typeof e.then},mn=function(e){for(var t=arguments.length,n=Array(1<t?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];return new Promise(function(t){return t(e.apply(void 0,n))})},hn=["name","route","defaultChild","data","template","resolve","activate","querystringParameters","defaultQuerystringParameters","defaultParameters"],cn=i(function(e){(function(t,n){e.exports=n()})(It,function(){function t(e){return e&&"object"==typeof e&&"[object RegExp]"!==Object.prototype.toString.call(e)&&"[object Date]"!==Object.prototype.toString.call(e)}function n(e){return Array.isArray(e)?[]:{}}function a(e,a){var r=a&&!0===a.clone;return r&&t(e)?s(n(e),e,a):e}function r(n,r,o){var d=n.slice();return r.forEach(function(r,e){"undefined"==typeof d[e]?d[e]=a(r,o):t(r)?d[e]=s(n[e],r,o):-1===n.indexOf(r)&&d.push(a(r,o))}),d}function o(e,n,r){var o={};return t(e)&&Object.keys(e).forEach(function(t){o[t]=a(e[t],r)}),Object.keys(n).forEach(function(i){o[i]=t(n[i])&&e[i]?s(e[i],n[i],r):a(n[i],r)}),o}function s(e,t,n){var s=Array.isArray(t),i=(n||{arrayMerge:r}).arrayMerge||r;return s?Array.isArray(e)?i(e,t,n):a(t,n):o(e,t,n)}return s.all=function(e,t){if(!Array.isArray(e)||2>e.length)throw new Error("first argument should be an array with at least two elements");// we are sure there are at least 2 values, so it is safe to have no initial value
return e.reduce(function(e,n){return s(e,n,t)})},s})}),fn={destroy:function(e){this.destroy=B,this.fire("destroy"),this.set=B,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:ae,on:function(e,t){var n=this._handlers[e]||(this._handlers[e]=[]);return n.push(t),{cancel:function(){var e=n.indexOf(t);~e&&n.splice(e,1)}}},set:function(e){this._set(H({},e));this.root._lock||re(this.root)},_recompute:B,_set:function(e){var t=this._state,n={},a=!1;for(var r in e=H(this._staged,e),this._staged={},e)this._differs(e[r],t[r])&&(n[r]=a=!0);a&&(this._state=H(H({},t),e),this._recompute(n,this._state),this._bind&&this._bind(n,this._state),this._fragment&&(this.fire("state",{changed:n,current:this._state,previous:t}),this._fragment.p(n,this._state),this.fire("update",{changed:n,current:this._state,previous:t})))},_stage:function(e){H(this._staged,e)},_mount:function(e,t){this._fragment[this._fragment.i?"i":"m"](e,t||null)},_differs:function(e,t){return e==e?e!==t||e&&"object"==typeof e||"function"==typeof e:t==t}};H(me.prototype,fn),H(ce.prototype,fn);var pn=[{name:`Good verses to memorize`,key:`1C6EBjsS-FY6KPzKnHCVFEcpYy_Gh_bvAJWcma50Qwrw`},{name:`Bible Acrostic`,key:`1OX4eS10MxNQbgfMzIZx2IEeivq6dGOc_F8X3IraMNds`,moreInfoUrl:`https://gist.github.com/TehShrike/54495891029b617dff4c31fb8f08251c`}],gn=i(function(e,t){function n(e){return 200<=e.status&&400>e.status}function a(e){return JSON.stringify(e)}function r(e){return JSON.parse(e.responseText)}Object.defineProperty(t,"__esModule",{value:!0});var o={buildIndexUrl:function(e){return"https://spreadsheets.google.com/feeds/worksheets/"+e+"/public/basic?alt=json"},buildSheetUrl:function(e,t){return"https://spreadsheets.google.com/feeds/list/"+e+"/"+t+"/public/values?alt=json"}},s=function(e){return Object.getOwnPropertyNames(e).map(function(t){return[t,e[t]]})},i=function(){function e(e,t){var n=[],a=!0,r=!1,o=void 0;try{for(var s,i=e[Symbol.iterator]();!(a=(s=i.next()).done)&&(n.push(s.value),!(t&&n.length===t));a=!0);}catch(e){r=!0,o=e}finally{try{!a&&i["return"]&&i["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),d=function(e,t){return t={exports:{}},e(t,t.exports),t.exports}(function(e){var t=o.buildIndexUrl,n=o.buildSheetUrl;e.exports=function(e){return{getWorkbook:function(n){var o=1<arguments.length&&arguments[1]!==void 0?arguments[1]:e;return o(t(n)).then(function(e){var t=e.feed,n=t.entry.map(function(e){var t=e.link.find(function(e){return"self"===e.rel}).href;return{name:a(e.title),id:d(t),updated:a(e.updated)}});return{name:a(t.title),updated:a(t.updated),authors:r(t),sheets:n}})},getSheet:function(t,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:e;return d(n(t,o)).then(function(e){var t=e.feed,n=(t.entry||[]).map(function(e){var t=s(e).filter(function(e){var t=i(e,1),n=t[0];return /^gsx\$/.test(n)}).map(function(e){var t=i(e,2),n=t[0],r=t[1];return{key:n.replace("gsx$",""),value:a(r)}}),n=t.map(function(e){var t=e.value;return t});return t.filter(function(e){var t=e.key;return /^[^_]/.test(t)}).forEach(function(e){var t=e.key,a=e.value;n[t]=a}),n});return{name:a(t.title),updated:a(t.updated),authors:r(t),rows:n}})},urlToKey:function(e){return l(/key=(.*?)(&|#|$)/,e)||l(/d\/(.*?)\/pubhtml/,e)||l(/spreadsheets\/d\/(.*?)\//,e)||u("No key found in "+e)}}};var a=function(e){return e.$t},r=function(e){return e.author.map(function(e){var t=e.name,n=e.email;return{name:a(t),email:a(n)}})},d=function(e){return e.split("/").pop()},l=function(e,t){var n=e.exec(t);return n&&n[1]},u=function(e){throw new Error(e)}}),l=d(function(e){var t=Object.assign({method:"GET",success:n,parse:r,serialize:a,headers:{}},e);return function(e,n){return new Promise(function(a,r){var o=new XMLHttpRequest;o.addEventListener("load",function(){try{var e=t.parse(o);t.success(o)?a(e):r(e)}catch(t){r(t)}}),o.addEventListener("error",r),o.addEventListener("abort",r),o.open(t.method,e),Object.keys(t.headers).forEach(function(e){o.setRequestHeader(e,t.headers[e])}),"undefined"==typeof n?o.send():o.send(t.serialize(n))})}}()),u=l.urlToKey,m=l.getWorkbook,h=l.getSheet,c=u,f=m,p=h;t["default"]={urlToKey:c,getWorkbook:f,getSheet:p},t.urlToKey=c,t.getWorkbook=f,t.getSheet=p}),kn=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}(gn),yn=gn.urlToKey,bn=gn.getWorkbook,vn=gn.getSheet;/* client/lib/component/SpreadsheetInput.html generated by Svelte v2.16.1 */const{urlToKey:xn}=kn;var _n={onsubmit(e){e.preventDefault();const{sheetUrl:t,mediatorCall:n}=this.get();try{const e=xn(t);n(`stateGo`,`workbook`,{key:e})}catch(e){this.set({error:e})}}};H(ve.prototype,fn),H(ve.prototype,_n),H(Se.prototype,fn);H(je.prototype,fn);H(Ve.prototype,fn);H(De.prototype,fn);const wn=new Set(pn.map(({key:e})=>e)),Cn=e=>e.then(e=>[null,e]).catch(e=>[e]);var Wn={async forgetAndPrepareForUndo(e){this.mediatorCall(`forgetWorkbook`,e),this.set({forgotten:!0})},restoreWorkbook(e,t){this.set({forgotten:!1}),this.mediatorCall(`rememberWorkbook`,e,t.name)}};H(Me.prototype,fn),H(Me.prototype,Wn);H(Ye.prototype,fn);H(Xe.prototype,fn);H(et.prototype,fn);var Pn="ontouchstart"in window;const Nn=(e,t)=>t.has(e[e.length-1]);var An=({words:e,chunkMin:t,chunkMax:n,chunkIdeal:a,chunkBarriers:r})=>{const o=[0];let s=0,i=null,d=0;const l=e=>{const t=e+s;o.push(t),i=null,s=t,d=t-1};for(d=0;d<e.length;++d){const o=e[d],u=d-s+1;u>=n?l(i||a):d===e.length-1?l(u):Nn(o,r)&&(u>=a?l(u):u>=t&&(i=u))}return o};/* client/view/workbook/sheet/memorize/Memorize.html generated by Svelte v2.16.1 */const In=new Set([`,`,`.`,`;`,`:`,`"`,`'`,`â`,`â`,`?`]);var Sn={updateIfAnswerIsFullyVisible(){this.get().wordsAreLeftToDisplay||this.set({answerIsFullyVisible:!0})},goToNextCard(){const{currentQuestionPosition:e,cardsInSheet:t}=this.get(),n=e+1;this.set({currentQuestionPosition:n>=t?0:n,answerIsFullyVisible:!1,hintWordCount:0,visibleChunkIndex:0})},advance(){this.get().answerIsFullyVisible?this.goToNextCard():this.set({answerIsFullyVisible:!0,hintWordCount:0,visibleChunkIndex:this.get().phraseChunks.length-1})},showMore(){const{wordsAreLeftToDisplay:e,visibleChunkIndex:t}=this.get();e&&(this.set({hintWordCount:0,visibleChunkIndex:t+1}),this.updateIfAnswerIsFullyVisible())},showLess(){const{visibleChunkIndex:e,hintWordCount:t,answerIsFullyVisible:n,phraseChunks:a}=this.get();n?this.set({hintWordCount:0,answerIsFullyVisible:!1,visibleChunkIndex:a.length-2}):0<t?this.set({hintWordCount:0}):0<e&&this.set({visibleChunkIndex:e-1,hintWordCount:0})},hint(){const{answerIsFullyVisible:e,chunkable:t}=this.get();!e&&t&&(this.set({hintWordCount:this.get().hintWordCount+1}),this.updateIfAnswerIsFullyVisible())},keydown({key:e}){` `===e?this.advance():`h`===e||`H`===e?this.hint():`,`===e?this.showLess():`.`===e&&this.showMore()}};H(_t.prototype,fn),H(_t.prototype,Sn),_t.prototype._recompute=function(e,t){(e.currentQuestionPosition||e.sheet)&&this._differs(t.currentCard,t.currentCard=tt(t))&&(e.currentCard=!0),e.sheet&&this._differs(t.cardsInSheet,t.cardsInSheet=nt(t))&&(e.cardsInSheet=!0),(e.sheet||e.workbook)&&this._differs(t.displayHeader,t.displayHeader=at(t))&&(e.displayHeader=!0),e.currentCard&&this._differs(t.answerWords,t.answerWords=rt(t))&&(e.answerWords=!0),e.answerWords&&this._differs(t.chunkable,t.chunkable=ot(t))&&(e.chunkable=!0),(e.chunkable||e.answerWords)&&this._differs(t.phraseChunks,t.phraseChunks=st(t))&&(e.phraseChunks=!0),(e.phraseChunks||e.visibleChunkIndex||e.hintWordCount)&&this._differs(t.visibleWords,t.visibleWords=it(t))&&(e.visibleWords=!0),(e.answerIsFullyVisible||e.currentCard||e.answerWords||e.visibleWords)&&this._differs(t.visibleAnswer,t.visibleAnswer=dt(t))&&(e.visibleAnswer=!0),(e.answerIsFullyVisible||e.answerWords||e.visibleWords)&&this._differs(t.hiddenAnswer,t.hiddenAnswer=lt(t))&&(e.hiddenAnswer=!0),(e.answerIsFullyVisible||e.visibleWords||e.answerWords)&&this._differs(t.wordsAreLeftToDisplay,t.wordsAreLeftToDisplay=ut(t))&&(e.wordsAreLeftToDisplay=!0)};var En=()=>{const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e};const Tn=1;var jn=(e,t)=>{let n=null,a=null,r=0;return(...o)=>{const s=o.map(e=>e.replace(/,/g,`|comma|`)).join(),i=r&&s===n&&r+t>=new Date().getTime();return i||(a=e(...o),n=s,r=new Date().getTime()),a}};const Fn=function(){const e=Object.create(null);return{provide(t,n){if(`function`!=typeof n)throw new Error(`${n} is not a function`);else if(`string`!=typeof t)throw new Error(`The provider name must be a string`);else if(e[t])throw new Error(`There is already a provider for "${t}"`);else e[t]=n;let a=!1;return()=>{a||(delete e[t],a=!0)}},call(t,...n){if(e[t])return e[t](...n);throw new Error(`No provider found for "${t}"`)}}}(),Ln=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};return function(t){function n(n,r){function o(e,t){return t.methods?D(e,t,t.methods):new e(t)}function s(){m.set({asr:a})}var i=n.element,d=n.template,l=n.content,u=cn(e,{target:i,data:Object.assign(l,e.data,{asr:a})}),m=void 0;try{if("function"==typeof d)m=o(d,u);else{var h=cn(u,d.options);m=o(d.component,h)}}catch(t){return void r(t)}t.on("stateChangeEnd",s),m.on("destroy",function(){t.removeListener("stateChangeEnd",s)}),m.mountedToTarget=i,r(null,m)}var a={makePath:t.makePath,stateIsActive:t.stateIsActive};return{render:n,reset:function(e,t){var a=e.domApi,r=a.mountedToTarget;a.destroy();var o=Object.assign({element:r},e);n(o,t)},destroy:function(e,t){e.destroy(),t()},getChildElement:function(e,t){try{var n=e.mountedToTarget,a=n.querySelector("uiView");t(null,a)}catch(n){t(n)}}}}}({methods:{mediatorCall:Fn.call},data:{mediatorCall:Fn.call}}),Vn=function(e,t){function n(e,t){$t(function(){if(k.emit(e,t),console.error(e+" - "+t.message),x)throw t})}function a(e){var t=f.get(e);return k.emit("beforeDestroyState",{state:t,domApi:I[e]}),S[e].emit("destroy"),S[e].removeAllListeners(),delete S[e],delete A[e],C(I[e]).then(function(){delete I[e],k.emit("afterDestroyState",{state:t})})}function r(e,t){var n=I[t],a=L(A,t),r=f.get(t);return k.emit("beforeResetState",{domApi:n,content:a,state:r,parameters:e}),S[t].emit("destroy"),delete S[t],N({domApi:n,content:a,template:r.template,parameters:e}).then(function(n){n&&(I[t]=n),k.emit("afterResetState",{domApi:I[t],content:a,state:r,parameters:e})})}function o(e){return new Promise(function(n){var a=f.getParent(e);if(a){var r=I[a.name];n(W(r))}else n(t)})}function s(e,t){return o(t).then(function(n){var a=f.get(t),r=L(A,t);return k.emit("beforeCreateState",{state:a,content:r,parameters:e}),P({template:a.template,element:n,content:r,parameters:e}).then(function(n){return I[t]=n,k.emit("afterCreateState",{state:a,domApi:n,content:r,parameters:e}),n})})}function i(e,t){return rn(e,function(e){return s(t,e)})}function d(e,t){try{var a=f.applyDefaultChildStates(e.name);if(a===e.name)u(a,t);else{// There are default child states that need to be applied
var r=h(a,t),o=w.location.get();r===o?u(a,t):k.go(a,t,{replace:!0})}}catch(e){n("stateError",e)}}function l(e){return e.change.concat(e.create).map(f.get)}function u(e,t){k.emit("stateChangeAttempt",function(n){m(e,t,n)})}function m(e,t,o){function s(t){return function(){if(o.cancelled){var n=new Error("The transition to "+e+" was cancelled");throw n.wasCancelledBySomeoneElse=!0,n}else return t.apply(void 0,arguments)}}return mn(f.guaranteeAllStatesExist,e).then(function(){var n=f.get(e),a=n.defaultParameters||n.defaultQuerystringParameters||{},r=Object.keys(a).some(function(e){return"undefined"==typeof t[e]});if(r)throw V(e,Xt(a,t));return n}).then(s(function(e){k.emit("stateChangeStart",e,t,b(e.name)),g.set(e.name,t)})).then(function(){var n=y({original:p.get(),destination:{name:e,parameters:t}});return tn(n);// { destroy, change, create }
}).then(s(function(e){function n(e){return e.map(f.get).forEach(function(e){var n=new qt,a=Object.create(n);a.domApi=I[e.name],a.data=e.data,a.parameters=t,a.content=L(A,e.name),S[e.name]=n;try{e.activate&&e.activate(a)}catch(t){$t(function(){throw t})}})}return z(l(e),Xt(t)).catch(function(t){throw t.stateChangeError=!0,t}).then(s(function(s){o.cancellable=!1;var d=function(){return n(e.change.concat(e.create))};return A=Xt(A,s),rn(dn(e.destroy),a).then(function(){return rn(dn(e.change),function(e){return r(Xt(t),e)})}).then(function(){return i(e.create,Xt(t)).then(d)})}))})).then(function(){p.set(e,t);try{k.emit("stateChangeEnd",f.get(e),t,b(e))}catch(t){n("stateError",t)}}).catch(s(function(e){return e&&e.redirectTo?(k.emit("stateChangeCancelled",e),k.go(e.redirectTo.name,e.redirectTo.params,{replace:!0})):void(e&&n("stateChangeError",e))})).catch(function(e){if(e&&e.wasCancelledBySomeoneElse);else throw new Error("This probably shouldn't happen, maybe file an issue or something "+e)})}function h(e,t,n){function a(){if(!g.get().name)throw new Error("makePath required a previous state to exist, and none was found");return g.get()}n&&n.inherit&&(t=Xt(a().parameters,t));var r=null===e?a().name:e,o=f.get(r)||{},s=o.defaultParameters||o.defaultQuerystringParameters;t=Xt(s,t),f.guaranteeAllStatesExist(r);var i=f.buildFullStateRoute(r);return Kt(i,t||{})}var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},f=Jt(),p=en(),g=en(),k=new qt,y=Zt(f),b=function(e){return Yt(e).map(f.get)};nn(k);var v=Xt({throwOnError:!0,pathPrefix:"#"},c),x=v.throwOnError,_=v.pathPrefix,w=c.router||Gt(an);w.on("not found",function(e,t){k.emit("routeNotFound",e,t)});var C=null,W=null,P=null,N=null,A={},I={},S={},E={replace:!1};k.addState=function(e){if("undefined"==typeof e)throw new Error("Expected 'state' to be passed in.");else if("undefined"==typeof e.name)throw new Error("Expected the 'name' option to be passed in.");else if("undefined"==typeof e.template)throw new Error("Expected the 'template' option to be passed in.");Object.keys(e).filter(function(e){return-1===hn.indexOf(e)}).forEach(function(e){console.warn("Unexpected property passed to addState:",e)}),f.add(e.name,e);var t=f.buildFullStateRoute(e.name);w.add(t,function(t){return d(e,t)})},k.go=function(e,t,a){a=Xt(E,a);var r=a.replace?w.replace:w.go;return mn(h,e,t,a).then(r,function(e){return n("stateChangeError",e)})},k.evaluateCurrentRoute=function(e,t){return mn(h,e,t).then(function(e){w.evaluateCurrent(e)}).catch(function(e){return n("stateError",e)})},k.makePath=function(e,t,n){return _+h(e,t,n)},k.getActiveState=function(){return p.get()},k.stateIsActive=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,n=p.get(),a=n.name===e||0===n.name.indexOf(e+".");return a&&(!t||Object.keys(t).every(function(e){return t[e]===n.parameters[e]}))};var T=e(k);return C=Qt(T.destroy),W=Qt(T.getChildElement),P=Qt(T.render),N=Qt(T.reset),k}(Ln,document.getElementById(`app-target`));Fn.provide(`stateGo`,Vn.go),Fn.provide(`onStateRouter`,(e,t)=>{Vn.on(e,t)});const zn=[async e=>{const t=await wt(`seen-sheets2`).catch(e=>(console.error(e),null));t?(e.provide(`rememberWorkbook`,(e,n)=>t(`readwrite`,t=>t.put({key:e,name:n},e))),e.provide(`getAllSeenWorkbooks`,async()=>t(`readonly`,e=>e.getAll())),e.provide(`forgetWorkbook`,async e=>{await t(`readwrite`,t=>t.delete(e))})):(e.provide(`rememberWorkbook`,async()=>{}),e.provide(`getAllSeenWorkbooks`,async()=>[]))},e=>{const t=jn(kn.getSheet,1e3);e.provide(`getWorkbook`,kn.getWorkbook),e.provide(`getSheet`,t)}].map(e=>e(Fn));[()=>({name:`error`,route:`error`,querystringParams:[`key`],template:ce,async resolve(e,t){return t}}),e=>({name:`index`,route:`home`,template:Se,async resolve(){return{seenWorkbooks:await e.call(`getAllSeenWorkbooks`)}}}),()=>({name:`new-deck`,route:`new-deck`,template:je}),()=>({name:`not-found`,route:`not-found`,querystringParameters:[`route`,`parameters`],template:Ve,async resolve(e,t){return t}}),e=>({name:`workbook`,defaultChild:`select-sheet`,route:`workbook/:key`,template:De,async resolve(t,{key:n}){const[a,r]=await Cn(e.call(`getWorkbook`,n));return a?Promise.reject({redirectTo:{name:`error`,params:{key:n}}}):(wn.has(n)||e.call(`rememberWorkbook`,n,r.name),{workbook:r,key:n})}}),()=>({name:`workbook.info`,route:`info`,template:Me}),e=>({name:`workbook.select-sheet`,route:`select`,template:Ye,async resolve(e,{key:t}){return{key:t}},activate({content:t,parameters:n}){1===t.workbook.sheets.length&&e.call(`stateGo`,`workbook.sheet.memorize`,{key:n.key,sheetId:t.workbook.sheets[0].id},{replace:!0,inherit:!0})}}),e=>({name:`workbook.sheet`,route:`sheet/:sheetId`,defaultChild:`memorize`,template:Xe,async resolve(t,{key:n,sheetId:a}){const r=await e.call(`getSheet`,n,a);return{sheet:r,sheetId:a}}}),()=>({name:`workbook.sheet.error`,route:`error-page`,template:et,async resolve(e,t){return t}}),e=>({name:`workbook.sheet.memorize`,route:`memorize`,template:_t,async resolve(t,{key:n,sheetId:a}){const r=await e.call(`getSheet`,n,a);if(0==r.rows.length)return Promise.reject({redirectTo:{name:`workbook.sheet.error`,params:{key:n,sheetId:a}}})}})].map(e=>e(Fn)).forEach(Vn.addState),Vn.on(`routeNotFound`,e=>{Vn.go(`not-found`,{route:e},{replace:!0})}),Vn.on(`stateChangeStart`,(e,t)=>console.log(`stateChangeStart`,e.name,t)),Vn.on(`stateChangeError`,e=>console.error(`stateChangeError`,e)),Vn.on(`stateError`,e=>console.error(`stateError`,e)),Vn.on(`stateChangeEnd`,(e,t)=>console.log(`stateChangeEnd`,e.name,t));const Dn=function(e){function t(e){var t=e.state,n=e.domApi;a[t.name]=n,r.forEach(function(e){return e(n)})}function n(e){var t=e.state,n=e.domApi;a[t.name]||console.error("detaching, but no current dom api for that name was found"),o.forEach(function(e){return e(n)}),delete a[t.name]}var a={},r=[],o=[];return e.on("afterCreateState",t),e.on("afterResetState",t),e.on("beforeResetState",n),e.on("beforeDestroyState",n),{addDomApiAttachListener:function(e){return Object.keys(a).forEach(function(t){return e(a[t])}),U(r,e)},addDomApiDetachListener:function(e){return U(o,e)}}}(Vn);Dn.addDomApiAttachListener(e=>{e.onStateInit&&e.onStateInit()}),Dn.addDomApiDetachListener(e=>{e.onStateCleanup&&e.onStateCleanup()}),Promise.all(zn).then(()=>{document.body.setAttribute("data-is-touchscreen",Pn),Vn.evaluateCurrentRoute(`index`)}).catch(e=>{console.error(e)})})();
//# sourceMappingURL=build.js.map
